@inject IJSRuntime JSRuntime;
@inject NavigationManager nav;

@* Contenido *@
<div @onclick="Open" class="mb-2 flex items-center justify-between rounded-full bg-zinc-100 p-2 dark:bg-zinc-900">
  
    @* Información *@
    <div class="flex items-center overflow-hidden">

        @* Imagen *@
        @if (string.IsNullOrWhiteSpace(Base64))
        {
            <div class="mr-3 flex h-12 w-12 min-w-9 items-center justify-center rounded-full bg-zinc-200 text-sm font-semibold uppercase text-gray-700 dark:bg-zinc-700 dark:text-zinc-300">@Global.Utilities.Strings.GetInitials(Modelo?.Nombre)</div>
        }
        else
        {
            <img class="mr-3 h-12 w-12 min-w-9 rounded-full" src="data:image/png;base64,@Base64" alt="Avatar">
        }

        @* Datos. *@
        <div class="flex flex-col justify-center">
            <p class="text-ellipsis whitespace-nowrap font-semibold dark:text-zinc-300">@Modelo?.Nombre</p>
            <p class="-mt-1 text-sm text-zinc-500 dark:text-zinc-300">@(Modelo?.Mails.FirstOrDefault()?.Email ?? Modelo?.Phones.FirstOrDefault()?.Number ?? "Sin datos")</p>
        </div>

    </div>


    @* Botones *@
    <div class="ml-2 flex items-center justify-center gap-2">

        @* Llamada *@
        <button @onclick:stopPropagation="true" @onclick="Call" class="bg-green-500/15 rounded-full p-2 text-green-500 hover:text-green-600 hover:bg-green/20">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-telephone-fill" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z" />
            </svg>
        </button>

        @* Email *@
        <button @onclick:stopPropagation="true" @onclick="Mail" class="bg-blue-500/15 rounded-full p-2 text-blue-500 hover:text-blue-600 hover:bg-blue/20">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z" /></svg>
        </button>

    </div>

</div>